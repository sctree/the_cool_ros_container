/* esm.sh - github:jeff-hykin/good-js#f6d5bcb/source/support/posix */
var h=46,a=47;function d(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function m(e){return e===a}function b(e,t,i,l){let n="",r=0,f=-1,c=0,u;for(let o=0,s=e.length;o<=s;++o){if(o<s)u=e.charCodeAt(o);else{if(l(u))break;u=a}if(l(u)){if(!(f===o-1||c===1))if(f!==o-1&&c===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==h||n.charCodeAt(n.length-2)!==h){if(n.length>2){let g=n.lastIndexOf(i);g===-1?(n="",r=0):(n=n.slice(0,g),r=n.length-1-n.lastIndexOf(i)),f=o,c=0;continue}else if(n.length===2||n.length===1){n="",r=0,f=o,c=0;continue}}t&&(n.length>0?n+=`${i}..`:n="..",r=2)}else n.length>0?n+=i+e.slice(f+1,o):n=e.slice(f+1,o),r=o-f-1;f=o,c=0}else u===h&&c!==-1?++c:c=-1}return n}function w(e,t){let i=t.dir||t.root,l=t.base||(t.name||"")+(t.ext||"");return i?i===t.root?i+l:i+e+l:l}var v={"	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D"," ":"%20"};function y(e){return e.replaceAll(/[\s]/g,t=>v[t]??t)}var k="/",D=":";function C(...e){let t="",i=!1;for(let l=e.length-1;l>=-1&&!i;l--){let n;if(l>=0)n=e[l];else{let{Deno:r}=globalThis;if(typeof r?.cwd!="function")throw new TypeError("Resolved a relative path without a CWD.");n=r.cwd()}d(n),n.length!==0&&(t=`${n}/${t}`,i=n.charCodeAt(0)===a)}return t=b(t,!i,"/",m),i?t.length>0?`/${t}`:"/":t.length>0?t:"."}function R(e){if(d(e),e.length===0)return".";let t=e.charCodeAt(0)===a,i=e.charCodeAt(e.length-1)===a;return e=b(e,!t,"/",m),e.length===0&&!t&&(e="."),e.length>0&&i&&(e+="/"),t?`/${e}`:e}function E(e){return d(e),e.length>0&&e.charCodeAt(0)===a}function T(...e){if(e.length===0)return".";let t;for(let i=0,l=e.length;i<l;++i){let n=e[i];d(n),n.length>0&&(t?t+=`/${n}`:t=n)}return t?R(t):"."}function L(e,t){if(d(e),d(t),e===t||(e=C(e),t=C(t),e===t))return"";let i=1,l=e.length;for(;i<l&&e.charCodeAt(i)===a;++i);let n=l-i,r=1,f=t.length;for(;r<f&&t.charCodeAt(r)===a;++r);let c=f-r,u=n<c?n:c,o=-1,s=0;for(;s<=u;++s){if(s===u){if(c>u){if(t.charCodeAt(r+s)===a)return t.slice(r+s+1);if(s===0)return t.slice(r+s)}else n>u&&(e.charCodeAt(i+s)===a?o=s:s===0&&(o=0));break}let A=e.charCodeAt(i+s),S=t.charCodeAt(r+s);if(A!==S)break;A===a&&(o=s)}let g="";for(s=i+o+1;s<=l;++s)(s===l||e.charCodeAt(s)===a)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+t.slice(r+o):(r+=o,t.charCodeAt(r)===a&&++r,t.slice(r))}function P(e){return e}function $(e){if(d(e),e.length===0)return".";let t=e.charCodeAt(0)===a,i=-1,l=!0;for(let n=e.length-1;n>=1;--n)if(e.charCodeAt(n)===a){if(!l){i=n;break}}else l=!1;return i===-1?t?"/":".":t&&i===1?"//":e.slice(0,i)}function I(e,t=""){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');d(e);let i=0,l=-1,n=!0,r;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let f=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){let u=e.charCodeAt(r);if(u===a){if(!n){i=r+1;break}}else c===-1&&(n=!1,c=r+1),f>=0&&(u===t.charCodeAt(f)?--f===-1&&(l=r):(f=-1,l=c))}return i===l?l=c:l===-1&&(l=e.length),e.slice(i,l)}else{for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===a){if(!n){i=r+1;break}}else l===-1&&(n=!1,l=r+1);return l===-1?"":e.slice(i,l)}}function U(e){d(e);let t=-1,i=0,l=-1,n=!0,r=0;for(let f=e.length-1;f>=0;--f){let c=e.charCodeAt(f);if(c===a){if(!n){i=f+1;break}continue}l===-1&&(n=!1,l=f+1),c===h?t===-1?t=f:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||l===-1||r===0||r===1&&t===l-1&&t===i+1?"":e.slice(t,l)}function N(e){if(e===null||typeof e!="object")throw new TypeError(`The "pathObject" argument must be of type Object. Received type ${typeof e}`);return w("/",e)}function _(e){d(e);let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let i=e.charCodeAt(0)===a,l;i?(t.root="/",l=1):l=0;let n=-1,r=0,f=-1,c=!0,u=e.length-1,o=0;for(;u>=l;--u){let s=e.charCodeAt(u);if(s===a){if(!c){r=u+1;break}continue}f===-1&&(c=!1,f=u+1),s===h?n===-1?n=u:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||f===-1||o===0||o===1&&n===f-1&&n===r+1?f!==-1&&(r===0&&i?t.base=t.name=e.slice(1,f):t.base=t.name=e.slice(r,f)):(r===0&&i?(t.name=e.slice(1,n),t.base=e.slice(1,f)):(t.name=e.slice(r,n),t.base=e.slice(r,f)),t.ext=e.slice(n,f)),r>0?t.dir=e.slice(0,r-1):i&&(t.dir="/"),t}function x(e){if(e=e instanceof URL?e:new URL(e),e.protocol!="file:")throw new TypeError("Must be a file URL.");return decodeURIComponent(e.pathname.replace(/%(?![0-9A-Fa-f]{2})/g,"%25"))}function F(e){if(!E(e))throw new TypeError("Must be an absolute path.");let t=new URL("file:///");return t.pathname=y(e.replace(/%/g,"%25").replace(/\\/g,"%5C")),t}export{I as basename,D as delimiter,$ as dirname,U as extname,N as format,x as fromFileUrl,E as isAbsolute,T as join,R as normalize,_ as parse,L as relative,C as resolve,k as sep,F as toFileUrl,P as toNamespacedPath};
//# sourceMappingURL=posix.mjs.map
// denoCacheMetadata={"headers":{"vary":"Accept-Encoding","cf-cache-status":"HIT","server":"cloudflare","content-type":"application/javascript; charset=utf-8","access-control-allow-origin":"*","date":"Fri, 01 Aug 2025 16:18:13 GMT","last-modified":"Fri, 01 Aug 2025 16:04:27 GMT","cf-ray":"9686a6720902f0b4-DFW","age":"825","cache-control":"public, max-age=31536000, immutable","alt-svc":"h3=\":443\"; ma=86400"},"url":"https://esm.sh/gh/jeff-hykin/good-js@f6d5bcb/denonext/source/support/posix.mjs","time":1754065093}